(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{39:function(e,t,a){e.exports=a(53)},44:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(20),i=a.n(n),o=(a(44),a(5)),s=a(6),l=a(8),m=a(7),u=a(22),d=a(14),p=a(2),f=a(3),b=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).calculateTotalCount=function(){var t,a=e.props.cart.items,r=0,c=Object(u.a)(a);try{for(c.s();!(t=c.n()).done;){r+=t.value.qty}}catch(n){c.e(n)}finally{c.f()}return r},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a,r=this.props.location.pathname;return"/ecommerce-website/"===r?(e={backgroundColor:"rgb(28, 88, 152)"},t={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"white"}):"/ecommerce-website/add-product"===r?(t={backgroundColor:"rgb(28, 88, 152)"},e={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"white"}):"/ecommerce-website/cart"===r&&(t={backgroundColor:"rgb(28, 30, 33)"},e={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"rgb(28, 88, 152)"}),c.a.createElement("div",{className:"navbar"},c.a.createElement(d.b,{className:"logo-link",to:"/ecommerce-website/"},c.a.createElement("img",{className:"logo",src:"https://image.flaticon.com/icons/svg/579/579427.svg",alt:"Logo"}),c.a.createElement("div",{className:"app-name"},"\xa0 NinjaMart")),c.a.createElement("div",{className:"tabs"},c.a.createElement(d.b,{to:"/ecommerce-website/"},c.a.createElement("button",{style:e,className:"nav-button"},"Products")),c.a.createElement(d.b,{to:"/ecommerce-website/add-product"},c.a.createElement("button",{style:t,className:"nav-button"},"Add Product"))),c.a.createElement(d.b,{className:"cart-icon-link",to:"/ecommerce-website/cart"},c.a.createElement("div",{style:a,className:"cart-icon-container"},c.a.createElement("img",{className:"cart-icon",src:"https://image.flaticon.com/icons/svg/779/779006.svg",alt:"cartIcon"}),c.a.createElement("span",{className:"cart-count"},this.calculateTotalCount()))))}}]),a}(c.a.Component);var v=Object(f.b)((function(e){return{cart:e.cart}}))(b),E=Object(p.e)(v),g=a(18),h=a(19),O=a.n(h),y=a(28);function j(e){return{type:"ADD_PRODUCTS",items:e}}function R(e){return{type:"ADD_NEW_PRODUCT",item:e}}function C(){return function(){var e=Object(y.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/arnavdesk/ecommerce-website/db");case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).products?t(j(r.products)):t(j([]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function N(e){return{type:"ADD_PRODUCT_TO_CART",item:e}}var T=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).saveAfterEdit=function(){var t=e.props,a=t.dispatch,r=t.product,c={};c.title=e.nameRef.current.value,c.description=e.desRef.current.value,c.price=e.priceRef.current.value,c.rating=e.ratingRef.current.value,c.id=r.id,c.img=r.img,a({type:"EDIT_PRODUCT",item:c}),e.setState({editable:!1})},e.cancelEdit=function(){e.setState({editable:!1})},e.startEditing=function(){e.setState({editable:!0})},e.addToCart=function(){(0,e.props.dispatch)(N(e.props.product))},e.state={editable:!1},e.nameRef=c.a.createRef(),e.desRef=c.a.createRef(),e.priceRef=c.a.createRef(),e.ratingRef=c.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editable,a=this.props,r=a.product,n=a.dispatch;return c.a.createElement("div",{onClick:function(t){"action-button"!==t.target.className&&"action-icons"!==t.target.className&&"edit-text"!==t.target.className&&e.props.history.push("/ecommerce-website/product?id="+r.id)},className:"product-item",id:"item"+r.id},c.a.createElement("div",{className:"left-block-products"},c.a.createElement("img",{className:"product-item-img",src:r.img,alt:"product"})),!t&&c.a.createElement("div",{className:"end-block-products"},c.a.createElement("div",{style:{fontSize:25}},r.title),c.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rs. ",r.price),c.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rating : ",r.rating),c.a.createElement("div",null,"Description : ",r.description),c.a.createElement("div",{className:"products-actions"},c.a.createElement("button",{className:"action-button",onClick:this.addToCart},"Add to Cart"),c.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/684/684930.svg",alt:"Edit",onClick:this.startEditing}),c.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"Delete",onClick:function(){n({type:"DELETE_PRODUCT",item:r})}}))),t&&c.a.createElement("div",{className:"end-block-products"},c.a.createElement("input",{className:"edit-text",ref:this.nameRef,style:{fontSize:25},defaultValue:r.title}),c.a.createElement("div",null,"Rs.",c.a.createElement("input",{className:"edit-text",ref:this.priceRef,style:{width:"70px",fontSize:18,color:"#777",marginTop:5},defaultValue:r.price})),c.a.createElement("div",null,"Rating :",c.a.createElement("input",{className:"edit-text",ref:this.ratingRef,style:{width:"30px",fontSize:18,color:"#777",marginTop:5},defaultValue:r.rating})),c.a.createElement("div",null,"Description :"," ",c.a.createElement("input",{className:"edit-text",ref:this.desRef,style:{width:"100%"},defaultValue:r.description})),c.a.createElement("div",{className:"products-actions"},c.a.createElement("button",{className:"action-button",onClick:this.cancelEdit},"Cancel"),c.a.createElement("button",{className:"action-button",onClick:this.saveAfterEdit},"Save"))))}}]),a}(c.a.Component);var k=Object(f.b)((function(e){return{products:e.products,cart:e.cart}}))(T),D=Object(p.e)(k),w=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).sortedOff=function(){e.setState({sorted:!1})},e.sortedOn=function(){e.setState({sorted:!0})},e.state={sorted:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t=this.state.sorted,a=this.props.products.items,r=Object(g.a)(a);return r.sort((function(e,t){return e.price-t.price})),e=!0===t?r:a,c.a.createElement("div",{className:"products"},c.a.createElement("div",{className:"sort-btn"},c.a.createElement("div",{onClick:this.sortedOn},"Sort By Price \xa0"),t&&c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/561/561189.svg",alt:"cross",onClick:this.sortedOff})),e.length>0?e.map((function(e){return c.a.createElement(D,{product:e,key:e.id})})):c.a.createElement("h1",null,"No Products to show"))}}]),a}(c.a.Component);var _=Object(f.b)((function(e){return{products:e.products}}))(w),A=a(35),S=a.n(A),x=function(e){new S.a({text:e,layout:"bottomRight",theme:"sunset",type:"alert",timeout:500}).show()},P=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).addNewProduct=function(){var t,a=e.props.dispatch,r={};(r.title=e.nameRef.current.value,r.description=e.desRef.current.value,r.price=e.priceRef.current.value,r.rating=e.ratingRef.current.value,r.img=e.imageRef.current.value,""!==r.title&&""!==r.description&&""!==r.price&&""!==r.rating&&""!==r.img)?(a((t=r,function(){var e=Object(y.a)(O.a.mark((function e(a){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in r=new URLSearchParams,t)r.append(c,t[c]);return e.next=4,fetch("https://my-json-server.typicode.com/arnavdesk/ecommerce-website/products",{method:"post",body:r});case 4:201===e.sent.status?a(R(t)):a({type:"BLANK"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.props.history.push("/ecommerce-website/#item"+(e.props.products.items.length+1))):x("No field can be blank")},e.nameRef=c.a.createRef(),e.desRef=c.a.createRef(),e.priceRef=c.a.createRef(),e.ratingRef=c.a.createRef(),e.imageRef=c.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"add-prod-div"},c.a.createElement("h2",null,"Add a Product"),c.a.createElement("div",{className:"form-add-prod"},c.a.createElement("label",null,"Name"),c.a.createElement("input",{type:"text",id:"name",ref:this.nameRef}),c.a.createElement("label",null,"Description"),c.a.createElement("input",{type:"text",id:"description",ref:this.desRef}),c.a.createElement("label",null,"Price"),c.a.createElement("input",{type:"text",id:"price",ref:this.priceRef}),c.a.createElement("label",null,"Rating"),c.a.createElement("input",{type:"text",id:"rating",ref:this.ratingRef}),c.a.createElement("label",null,"Image Link"),c.a.createElement("input",{type:"text",id:"img",ref:this.imageRef}),c.a.createElement("button",{className:"action-button",onClick:function(){return e.addNewProduct()}},"Add")))}}]),a}(r.Component);var I=Object(f.b)((function(e){return{products:e.products}}))(P),U=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(o.a)(this,a),(r=t.call(this,e)).addToCart=function(){(0,r.props.dispatch)(N(r.item))};var c=r.props.products,n=new URLSearchParams(window.location.search).get("id"),i=c.items.findIndex((function(e){return e.id+""===n}));return r.item=c.items[i],r}return Object(s.a)(a,[{key:"render",value:function(){var e=this.item;return c.a.createElement("div",{className:"single-product"},c.a.createElement("div",{className:"upper-block"},c.a.createElement("img",{src:e.img,alt:"product"}),c.a.createElement("div",null,c.a.createElement("div",null,e.title),c.a.createElement("div",null,"Rs. ",e.price),c.a.createElement("div",null,"Rating: ",e.rating))),c.a.createElement("div",{className:"lower-block"},c.a.createElement("div",null,"Description: ",e.description),c.a.createElement("button",{style:{margin:"auto",display:"block",marginTop:"10px"},className:"action-button",onClick:this.addToCart},"Add to Cart")))}}]),a}(r.Component);var L=Object(f.b)((function(e){return{products:e.products}}))(U),q=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.product,r=t.dispatch;return c.a.createElement("div",{onClick:function(t){"action-button"!==t.target.className&&"action-icons"!==t.target.className&&e.props.history.push("/ecommerce-website/product?id="+a.id)},className:"cart-item"},c.a.createElement("div",{className:"left-block"},c.a.createElement("img",{className:"cart-item-img",src:a.img,alt:"product"})),c.a.createElement("div",{className:"right-block"},c.a.createElement("div",{style:{fontSize:25}},a.title),c.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rs. ",a.price),c.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Qty : ",a.qty)),c.a.createElement("div",{className:"end-block"},c.a.createElement("div",{className:"cart-item-actions"},c.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/929/929409.svg",alt:"Increase",onClick:function(){r({type:"INCREASE_QTY_ITEM_CART",item:a})}}),c.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/753/753340.svg",alt:"Decrease",onClick:function(){r({type:"DECREASE_QTY_ITEM_CART",item:a})}}),c.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"Delete",onClick:function(){r({type:"DELETE_ITEM_CART",item:a})}}))))}}]),a}(c.a.Component);var z=Object(f.b)((function(e){return{cart:e.cart}}))(q),M=Object(p.e)(z),Q=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"calculateTotal",value:function(e){var t,a=0,r=Object(u.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;a+=c.price*c.qty}}catch(n){r.e(n)}finally{r.f()}return a}},{key:"render",value:function(){var e=this.props.cart.items,t=this.calculateTotal(e);return c.a.createElement("div",{className:"cart"},e.map((function(e){return c.a.createElement(M,{product:e,key:e.id})})),e.length>0?c.a.createElement("div",{style:{marginLeft:"auto"}},"Total Price : ",t):c.a.createElement("h1",null,"Cart Empty!"))}}]),a}(c.a.Component);var V=Object(f.b)((function(e){return{cart:e.cart}}))(Q),Y=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var t=e.props,a=t.dispatch;0===t.products.items.length&&a(C())},e}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(d.a,null,c.a.createElement(E,null),c.a.createElement(p.a,{exact:!0,path:"/ecommerce-website/",render:function(e){return c.a.createElement(_,e)}}),c.a.createElement(p.a,{path:"/ecommerce-website/cart",component:V}),c.a.createElement(p.a,{path:"/ecommerce-website/add-product",component:I}),c.a.createElement(p.a,{path:"/ecommerce-website/product",component:L})))}}]),a}(c.a.Component);var B=Object(f.b)((function(e){return{products:e.products,cart:e.cart}}))(Y),F=a(13),J=a(4),W=(a(32),a(33),{items:[]});var K={items:[]};var G=Object(F.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return Object(J.a)(Object(J.a)({},e),{},{items:t.items});case"ADD_NEW_PRODUCT":return t.item.id=e.items.length+1,x("Product Added"),Object(J.a)(Object(J.a)({},e),{},{items:[].concat(Object(g.a)(e.items),[t.item])});case"EDIT_PRODUCT":var a,r=e.items.filter((function(e,r){return e.id===t.item.id&&(a=r),e.id!==t.item.id}));return-1===a?(x("Item not found"),e):(x("Item edited"),r.splice(a,0,t.item),Object(J.a)(Object(J.a)({},e),{},{items:r}));case"DELETE_PRODUCT":var c=e.items.filter((function(e){return e.id!==t.item.id}));return x("Removed From Listing"),Object(J.a)(Object(J.a)({},e),{},{items:c});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_TO_CART":case"INCREASE_QTY_ITEM_CART":console.log(e);var a=e.items.findIndex((function(e){return e.id===t.item.id}));if(-1===a)return x("1 Item added to cart"),t.item.qty=1,Object(J.a)(Object(J.a)({},e),{},{items:[].concat(Object(g.a)(e.items),[t.item])});x("Quantity increased by 1");var r=Object(J.a)({},e);return r.items[a].qty++,r;case"DECREASE_QTY_ITEM_CART":var c=e.items.findIndex((function(e){return e.id===t.item.id}));if(-1===c)return e;var n=Object(J.a)({},e);return 1===n.items[c].qty?e:(n.items[c].qty--,x("Qty Decreased by 1"),n);case"DELETE_PRODUCT":case"DELETE_ITEM_CART":var i=e.items.filter((function(e){return e.id!==t.item.id}));return x("Removed From Cart"),Object(J.a)(Object(J.a)({},e),{},{items:i});case"EDIT_PRODUCT":var o=-1,s=e.items.filter((function(e,a){return e.id===t.item.id&&(o=a),e.id!==t.item.id}));return-1===o?e:(t.item.qty=e.items[o].qty,s.splice(o,0,t.item),Object(J.a)(Object(J.a)({},e),{},{items:s}));default:return e}}}),H=a(36),X=a(37),Z=a.n(X),$=a(29),ee={key:"root",storage:Z.a},te=Object($.a)(ee,G),ae=a(38),re=function(){var e=Object(F.d)(te,Object(F.a)(H.a));return{store:e,persistor:Object($.b)(e)}}();i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ae.a,{loading:null,persistor:re.persistor},c.a.createElement(f.a,{store:re.store},c.a.createElement(B,null)))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b1039019.chunk.js.map